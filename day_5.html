<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 5: Method Overloading, Overriding & Extension Methods - OOP Foundations</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF;
            color: #3D352E;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }
        pre {
            background-color: #1E1E1E;
            color: #D4D4D4;
            font-family: 'Roboto Mono', monospace;
            border-radius: 0.5rem;
            padding: 1.25rem;
            position: relative;
            overflow-x: auto;
            border: 1px solid #3a404a;
        }
        pre code {
            background-color: transparent !important;
            color: inherit;
            padding: 0;
            font-size: inherit;
            border-radius: 0;
        }
        .prose-custom :not(pre) > code {
            background-color: #F3F4F6;
            color: #C06A47;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em;
        }
        .btn {
            display: inline-block;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            text-align: center;
        }
        .btn-primary {
            background-color: #C06A47; /* Sienna */
            color: #FFFFFF;
            border: 1px solid transparent;
        }
        .btn-primary:hover {
            background-color: #A95A3A; /* Darker Sienna */
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background-color: #4A5568;
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            opacity: 0;
            transition: all 0.2s;
        }
        pre:hover .copy-btn {
            opacity: 1;
        }
        .copy-btn:hover {
            background-color: #2D3748;
        }
        .toc-link {
            transition: all 0.2s ease-in-out;
            border-left: 2px solid transparent;
        }
        .toc-link:hover {
            color: #3E8A86; /* Teal */
            border-left-color: #3E8A86;
        }
        .toc-link.active {
            color: #C06A47; /* Sienna */
            border-left-color: #C06A47;
            font-weight: 700;
        }
        .prose-custom { max-width: 80ch; }
        .prose-custom h2 { margin-top: 2.5em; margin-bottom: 1em; }
        .prose-custom h3 { margin-top: 2em; margin-bottom: 0.8em; }
        .prose-custom p, .prose-custom ul, .prose-custom ol { line-height: 1.7; }
        .shadow-sm { box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
        .bg-white { background-color: #FFFFFF; }
        .border, .border-t { border-color: #e5e7eb; }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-white shadow-md fixed top-0 left-0 right-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-3">
                <div class="text-2xl font-bold text-sienna-800">
                    <a href="roadmap.html">OOP Foundations</a>
                </div>
                <nav class="hidden md:flex space-x-4">
                    <a href="day_1.html" class="text-gray-600 hover:text-teal-600 transition">Day 1</a>
                    <a href="day_2.html" class="text-gray-600 hover:text-teal-600 transition">Day 2</a>
                    <a href="day_3.html" class="text-gray-600 hover:text-teal-600 transition">Day 3</a>
                    <a href="day_4.html" class="text-gray-600 hover:text-teal-600 transition">Day 4</a>
                    <a href="day_5.html" class="font-bold text-teal-600">Day 5</a>
                    <a href="day_6.html" class="text-gray-600 hover:text-teal-600 transition">Day 6</a>
                    <a href="day_7.html" class="text-gray-600 hover:text-teal-600 transition">Day 7</a>
                </nav>
                <!-- Return to Homepage button removed from here -->
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 pt-24">
        <div class="flex justify-between items-center mb-12">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-sienna-800">Day 5: Method Overloading, Overriding & Extension Methods</h1>
                <p class="mt-4 text-xl text-gray-600">Welcome to Day 5 of our OOP Foundations course. Today, we delve into three powerful C# features that provide flexibility and extensibility to your code: method overloading, method overriding, and extension methods. Mastering these concepts is key to writing clean, intuitive, and maintainable object-oriented programs.</p>
            </div>
            <a href="roadmap.html" class="btn btn-primary whitespace-nowrap">Return to Homepage</a>
        </div>

        <div class="flex flex-col lg:flex-row-reverse lg:space-x-reverse lg:space-x-12">
            <aside class="w-full lg:w-1/4 lg:sticky lg:top-24 self-start mb-12 lg:mb-0">
                <div class="p-4 rounded-lg bg-white shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">On This Page</h3>
                    <nav id="toc-nav" class="flex flex-col space-y-2">
                        <a href="#introduction" class="toc-link pl-2 text-gray-600">Introduction</a>
                        <a href="#theory-topics" class="toc-link pl-2 text-gray-600">Theory Topics</a>
                        <a href="#coding-practice" class="toc-link pl-2 text-gray-600">Coding Practice & Problems</a>
                        <a href="#uml-task" class="toc-link pl-2 text-gray-600">UML Task</a>
                        <a href="#case-study" class="toc-link pl-2 text-gray-600">Case Study: Online Library System APIs</a>
                        <a href="#knowledge-check" class="toc-link pl-2 text-gray-600">Knowledge Check</a>
                        <a href="#self-assessment" class="toc-link pl-2 text-gray-600">Self-Assessment Challenge</a>
                    </nav>
                </div>
            </aside>

            <div class="w-full lg:w-3/4 prose-custom">
                <section id="introduction" class="scroll-mt-20 space-y-4">
                        <h1 class="text-4xl font-bold tracking-tight text-gray-900">Day 5: Method Overloading, Overriding & Extension Methods</h1>
                        <p class="text-lg text-gray-600">Welcome to Day 5 of our OOP Foundations course. Today, we delve into three powerful C# features that provide flexibility and extensibility to your code: method overloading, method overriding, and extension methods. Mastering these concepts is key to writing clean, intuitive, and maintainable object-oriented programs.</p>
                        <div class="bg-indigo-100 border-l-4 border-indigo-500 text-indigo-700 p-4 rounded-r-lg" role="alert">
                            <p class="font-bold">Learning Goals</p>
                            <p>By the end of this lesson, you will be able to differentiate between overloading and overriding, know when to use each, and extend existing types with new functionality using extension methods.</p>
                        </div>
                    </section>

                    <section id="theory-topics" class="scroll-mt-20 space-y-6 pt-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900">Theory Topics</h2>
                        
                        <div id="overloading-vs-overriding" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">Method Overloading vs. Overriding</h3>
                            <p>While their names sound similar, overloading and overriding represent two different forms of polymorphism. Overloading is resolved at compile-time (static polymorphism), while overriding is resolved at run-time (dynamic polymorphism).</p>

                            <p><strong>Method Overloading</strong> means creating multiple methods in the same class with the same name but different signatures (i.e., different parameter lists - either number of parameters or type of parameters). It's a way to provide multiple ways to call a method for different data types.</p>
                            
                            <p><strong>Method Overriding</strong> means providing a specific implementation for a method in a derived class that is already defined in its base class. The method in the derived class must have the same name, return type, and parameters as the one in the base class. It requires an inheritance hierarchy.</p>
                             <button id="analogy-btn" class="inline-flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors">
                                ✨ Explain with Analogy
                            </button>
                            <div class="overflow-x-auto mt-4">
                                <table class="min-w-full bg-white shadow-md rounded-lg">
                                    <thead class="bg-gray-800 text-white">
                                        <tr>
                                            <th class="py-3 px-4 uppercase font-semibold text-sm text-left">Feature</th>
                                            <th class="py-3 px-4 uppercase font-semibold text-sm text-left">Method Overloading</th>
                                            <th class="py-3 px-4 uppercase font-semibold text-sm text-left">Method Overriding</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-gray-700">
                                        <tr class="border-b">
                                            <td class="py-3 px-4 font-semibold">Purpose</td>
                                            <td class="py-3 px-4">Provide multiple versions of a method for different data inputs.</td>
                                            <td class="py-3 px-4">Provide a specialized implementation of a base class method in a derived class.</td>
                                        </tr>
                                        <tr class="bg-gray-100 border-b">
                                            <td class="py-3 px-4 font-semibold">Method Signature</td>
                                            <td class="py-3 px-4">Must be different (number or type of parameters).</td>
                                            <td class="py-3 px-4">Must be the same (name, parameters, return type).</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="py-3 px-4 font-semibold">Scope</td>
                                            <td class="py-3 px-4">Occurs within the same class.</td>
                                            <td class="py-3 px-4">Occurs in two classes with an inheritance relationship (base and derived).</td>
                                        </tr>
                                        <tr class="bg-gray-100 border-b">
                                            <td class="py-3 px-4 font-semibold">Keywords</td>
                                            <td class="py-3 px-4">No specific keywords required.</td>
                                            <td class="py-3 px-4">Requires `virtual` or `abstract` in the base class and `override` in the derived class.</td>
                                        </tr>
                                        <tr>
                                            <td class="py-3 px-4 font-semibold">Polymorphism Type</td>
                                            <td class="py-3 px-4">Compile-time (Static) Polymorphism.</td>
                                            <td class="py-3 px-4">Run-time (Dynamic) Polymorphism.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="extension-methods" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">Extension Methods</h3>
                            <p>Extension methods enable you to "add" methods to existing types without creating a new derived type, recompiling, or otherwise modifying the original type. This is particularly useful for adding functionality to types you don't own, like those in the .NET framework (e.g., `String`, `int`).</p>
                            <p>To implement an extension method:</p>
                            <ul class="list-disc list-inside space-y-2 pl-4">
                                <li>The method must be `static`.</li>
                                <li>It must be in a `static` class.</li>
                                <li>The first parameter of the method specifies the type that the method operates on, and it is preceded by the `this` modifier.</li>
                            </ul>
                            <h4 class="font-semibold text-gray-700">Syntax Snippet:</h4>
<pre><code class="language-csharp">
public static class StringExtensions
{
    public static int WordCount(this string str)
    {
        return str.Split(new char[] { ' ', '.', '?' }, StringSplitOptions.RemoveEmptyEntries).Length;
    }
}
</code></pre>
                        </div>
                        
                        <div id="best-practices" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">Best Practices</h3>
                            <ul class="list-disc list-inside space-y-2 pl-4">
                                <li><strong>Overload when:</strong> You want to offer the same operation on different types or with a different number of arguments. For example, a `Console.WriteLine()` method that can accept a string, an int, a double, etc. This enhances API usability.</li>
                                <li><strong>Override when:</strong> You are working with an inheritance hierarchy and need a subclass to provide a more specific behavior for a method defined in its superclass. This is the heart of polymorphism and allows for writing flexible, decoupled code (e.g., a `Draw()` method in a base `Shape` class overridden by `Circle` and `Square`).</li>
                            </ul>
                        </div>

                        <div id="pitfall-ambiguous-overloads" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">Pitfall: Ambiguous Overloads</h3>
                            <p>A common pitfall occurs when the compiler cannot determine which overloaded method to call. This happens if a method call could be converted to more than one overload. For example, if you have `void Print(int x)` and `void Print(double y)`, calling `Print(10L)` (a long) could be ambiguous if there isn't a specific overload for `long`.</p>
                            <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-r-lg" role="alert">
                                <p class="font-bold">Compiler's Choice</p>
                                <p>The C# compiler follows a specific set of rules to pick the "best" overload, preferring direct matches over those requiring type conversions. When no single overload is uniquely "better" than others, a compile-time error occurs.</p>
                            </div>
                        </div>

                    </section>
                    
                    <section id="coding-practice" class="scroll-mt-20 space-y-6 pt-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900">Coding Practice & Problems</h2>
                        
                        <div id="calculator-overload" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">Implement Calculator with Overloaded Add Methods</h3>
                            <p>Here we create a `Calculator` class with two `Add` methods: one for integers and one for doubles.</p>
<pre><code class="language-csharp">
using System;

public class Calculator
{
    // Overload 1: Adds two integers
    public int Add(int a, int b)
    {
        Console.WriteLine("Adding two integers");
        return a + b;
    }

    // Overload 2: Adds two doubles
    public double Add(double a, double b)
    {
        Console.WriteLine("Adding two doubles");
        return a + b;
    }
    
    // Overload 3: Adds three integers
    public int Add(int a, int b, int c)
    {
        Console.WriteLine("Adding three integers");
        return a + b + c;
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        Calculator calc = new Calculator();
        
        Console.WriteLine($"Sum of 5 and 10 is: {calc.Add(5, 10)}");
        Console.WriteLine($"Sum of 3.5 and 7.2 is: {calc.Add(3.5, 7.2)}");
        Console.WriteLine($"Sum of 1, 2, and 3 is: {calc.Add(1, 2, 3)}");
    }
}
</code></pre>
                        </div>
                        
                        <div id="problem-easy" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">[Easy] Extension Method: IsEven()</h3>
                            <p>Implement a simple extension method `IsEven()` for the `int` type.</p>
<pre><code class="language-csharp">
using System;

public static class IntExtensions
{
    public static bool IsEven(this int number)
    {
        return number % 2 == 0;
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        int myNumber = 10;
        Console.WriteLine($"{myNumber} is even: {myNumber.IsEven()}"); // Prints true
        
        int anotherNumber = 7;
        Console.WriteLine($"{anotherNumber} is even: {anotherNumber.IsEven()}"); // Prints false
    }
}
</code></pre>
                        </div>

                        <div id="problem-medium" class="space-y-4 pt-6">
                            <h3 class="text-2xl font-semibold text-gray-800">[Medium] Strategy Pattern for Discounts (Using Overriding)</h3>
                            <p>This problem demonstrates method overriding. We define a base `DiscountStrategy` and then create specific strategies that override the `ApplyDiscount` method.</p>
<pre><code class="language-csharp">
using System;

// The 'Strategy' abstract class
public abstract class DiscountStrategy
{
    public virtual double ApplyDiscount(double amount)
    {
        // Default: no discount
        return amount;
    }
}

// A 'ConcreteStrategy' class
public class PercentageDiscountStrategy : DiscountStrategy
{
    private readonly double _percentage;
    public PercentageDiscountStrategy(double percentage)
    {
        _percentage = percentage;
    }

    public override double ApplyDiscount(double amount)
    {
        return amount - (amount * _percentage / 100);
    }
}

// Another 'ConcreteStrategy' class
public class FlatDiscountStrategy : DiscountStrategy
{
    private readonly double _discountAmount;
    public FlatDiscountStrategy(double discountAmount)
    {
        _discountAmount = discountAmount;
    }

    public override double ApplyDiscount(double amount)
    {
        return Math.Max(0, amount - _discountAmount);
    }
}

// The 'Context' class
public class ShoppingCart
{
    private DiscountStrategy _discountStrategy;
    private double _totalAmount;

    public ShoppingCart(double totalAmount)
    {
        _totalAmount = totalAmount;
        _discountStrategy = new DiscountStrategy(); // Default strategy
    }

    public void SetDiscountStrategy(DiscountStrategy strategy)
    {
        _discountStrategy = strategy;
    }

    public double GetFinalPrice()
    {
        return _discountStrategy.ApplyDiscount(_totalAmount);
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        ShoppingCart cart = new ShoppingCart(100.0);
        Console.WriteLine($"Original price: ${cart.GetFinalPrice()}");
        
        // Apply a 20% discount
        cart.SetDiscountStrategy(new PercentageDiscountStrategy(20));
        Console.WriteLine($"Price with 20% discount: ${cart.GetFinalPrice()}");

        // Apply a $15 flat discount
        cart.SetDiscountStrategy(new FlatDiscountStrategy(15));
        Console.WriteLine($"Price with $15 flat discount: ${cart.GetFinalPrice()}");
    }
}
</code></pre>
                        </div>

                    </section>
                    
                    <section id="uml-task" class="scroll-mt-20 space-y-6 pt-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900">UML Task</h2>
                        <h3 class="text-2xl font-semibold text-gray-800">UML for Overloaded Calculator Methods</h3>
                        <p>This UML class diagram illustrates the `Calculator` class with its overloaded `Add` methods. Notice how the methods have the same name but different parameters listed.</p>
                        <div class="bg-gray-800 text-white p-6 rounded-lg shadow-lg font-mono text-sm">
                            <div class="border-b border-gray-600 pb-2 mb-2">
                                <strong>Calculator</strong>
                            </div>
                            <div>
                                + Add(a: int, b: int): int<br>
                                + Add(a: double, b: double): double<br>
                                + Add(a: int, b: int, c: int): int
                            </div>
                        </div>
                    </section>

                    <section id="case-study" class="scroll-mt-20 space-y-6 pt-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900">Case Study: Online Library System APIs</h2>
                        <p>Let's design a simple `LibraryService` class for an online library. A key requirement is to allow users to search for books in multiple ways. Method overloading is a perfect fit for this `SearchBooks` functionality.</p>
<pre><code class="language-csharp">
using System;
using System.Collections.Generic;
using System.Linq;

public class Book
{
    public string Title { get; set; }
    public string Author { get; set; }
    public string Category { get; set; }
    public bool IsReserved { get; set; }
}

public class LibraryService
{
    private List&lt;Book&gt; _books;

    public LibraryService()
    {
        // Seed with some sample data
        _books = new List&lt;Book&gt;
        {
            new Book { Title = "The Great Gatsby", Author = "F. Scott Fitzgerald", Category = "Fiction" },
            new Book { Title = "A Brief History of Time", Author = "Stephen Hawking", Category = "Science" },
            new Book { Title = "Dune", Author = "Frank Herbert", Category = "Sci-Fi" },
            new Book { Title = "Foundation", Author = "Isaac Asimov", Category = "Sci-Fi" }
        };
    }

    // Overload 1: Search by title
    public List&lt;Book&gt; SearchBooks(string title)
    {
        Console.WriteLine($"Searching by title: '{title}'");
        return _books.Where(b => b.Title.Contains(title, StringComparison.OrdinalIgnoreCase)).ToList();
    }

    // Overload 2: Search by author
    public List&lt;Book&gt; SearchBooksByAuthor(string author)
    {
        Console.WriteLine($"Searching by author: '{author}'");
        return _books.Where(b => b.Author.Contains(author, StringComparison.OrdinalIgnoreCase)).ToList();
    }
    
    // NOTE: C# doesn't allow overloading based on parameter name alone. 
    // So we need distinct method names like SearchBooksByAuthor, or a more complex parameter object.
    // For a cleaner design, we can use a single method with optional parameters or a search object.
    // But for demonstrating overloading, we can imagine distinct methods for different criteria.
    // Here is a better overload example:

    // Overload 2 (revised): Search by Author AND Title
    public List&lt;Book&gt; SearchBooks(string title, string author)
    {
        Console.WriteLine($"Searching by title: '{title}' AND author: '{author}'");
        return _books.Where(b => b.Title.Contains(title, StringComparison.OrdinalIgnoreCase) && 
                                  b.Author.Contains(author, StringComparison.OrdinalIgnoreCase)).ToList();
    }

    // Overload 3: Search by category
     public List&lt;Book&gt; SearchBooksByCategory(string category)
    {
        Console.WriteLine($"Searching by category: '{category}'");
        return _books.Where(b => b.Category.Equals(category, StringComparison.OrdinalIgnoreCase)).ToList();
    }


    public bool ReserveBook(string title)
    {
        var book = _books.FirstOrDefault(b => b.Title.Equals(title, StringComparison.OrdinalIgnoreCase));
        if (book != null && !book.IsReserved)
        {
            book.IsReserved = true;
            Console.WriteLine($"Successfully reserved '{title}'.");
            return true;
        }
        Console.WriteLine($"Failed to reserve '{title}'. It's either not found or already reserved.");
        return false;
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        LibraryService library = new LibraryService();

        var sciFiBooks = library.SearchBooksByCategory("Sci-Fi");
        Console.WriteLine($"Found {sciFiBooks.Count} Sci-Fi books.");

        var gatsby = library.SearchBooks("Gatsby");
        Console.WriteLine($"Found {gatsby.Count} book(s) with 'Gatsby' in the title.");

        library.ReserveBook("Dune");
        library.ReserveBook("Dune"); // Try to reserve again
    }
}
</code></pre>
                    </section>
                    
                    <section id="knowledge-check" class="scroll-mt-20 space-y-4 pt-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900">Knowledge Check</h2>
                        <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 space-y-6">
                            <div id="quiz-question-1">
                                <p class="font-semibold">1. Which statement accurately describes Method Overriding?</p>
                                <div class="space-y-2 mt-2">
                                    <label class="flex items-center"><input type="radio" name="q1" value="a" class="mr-2">a) Creating multiple methods with the same name but different parameters in the same class.</label>
                                    <label class="flex items-center"><input type="radio" name="q1" value="b" class="mr-2">b) Providing a new implementation in a derived class for a method defined in its base class.</label>
                                    <label class="flex items-center"><input type="radio" name="q1" value="c" class="mr-2">c) Adding a new method to an existing type without modifying the original type.</label>
                                    <label class="flex items-center"><input type="radio" name="q1" value="d" class="mr-2">d) Hiding a base class method in a derived class using the `new` keyword.</label>
                                </div>
                                <button class="quiz-check-btn mt-3 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700" data-question="1" data-answer="b">Check Answer</button>
                                <div class="quiz-feedback hidden mt-2 p-3 rounded-md"></div>
                            </div>

                            <hr>

                            <div id="quiz-question-2">
                                <p class="font-semibold">2. What are the requirements for creating a valid C# extension method?</p>
                                <div class="space-y-2 mt-2">
                                    <label class="flex items-center"><input type="radio" name="q2" value="a" class="mr-2">a) It must be a `public` method inside a `public` class.</label>
                                    <label class="flex items-center"><input type="radio" name="q2" value="b" class="mr-2">b) The first parameter must use the `params` keyword.</label>
                                    <label class="flex items-center"><input type="radio" name="q2" value="c" class="mr-2">c) It must be a `static` method inside a `static` class, and its first parameter must use the `this` keyword.</label>
                                    <label class="flex items-center"><input type="radio" name="q2" value="d" class="mr-2">d) It must be defined in the same namespace as the type it extends.</label>
                                </div>
                                <button class="quiz-check-btn mt-3 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700" data-question="2" data-answer="c">Check Answer</button>
                                <div class="quiz-feedback hidden mt-2 p-3 rounded-md"></div>
                            </div>

                            <hr>

                            <div id="quiz-question-3">
                                <p class="font-semibold">3. What is the primary reason to use method overloading?</p>
                                <div class="space-y-2 mt-2">
                                    <label class="flex items-center"><input type="radio" name="q3" value="a" class="mr-2">a) To change the behavior of a method from a base class.</label>
                                    <label class="flex items-center"><input type="radio" name="q3" value="b" class="mr-2">b) To provide multiple ways to call a method with different data types or argument counts, improving API usability.</label>
                                    <label class="flex items-center"><input type="radio" name="q3" value="c" class="mr-2">c) To add new methods to a class without recompiling it.</label>
                                    <label class="flex items-center"><input type="radio" name="q3" value="d" class="mr-2">d) To force a derived class to implement a method.</label>
                                </div>
                                <button class="quiz-check-btn mt-3 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700" data-question="3" data-answer="b">Check Answer</button>
                                <div class="quiz-feedback hidden mt-2 p-3 rounded-md"></div>
                            </div>
                        </div>
                    </section>

                    <section id="self-assessment" class="scroll-mt-20 space-y-4 pt-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900">Self-Assessment Challenge</h2>
                         <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 space-y-4">
                            <p class="font-semibold">Challenge: Create an extension method `ToCurrencyString()` for the `decimal` type.</p>
                            <p>This method should take a string parameter representing the currency symbol (e.g., "$", "€", "£") and format the decimal as a currency string. For example, `123.45m.ToCurrencyString("$")` should return `"$123.45"`.</p>
                            <button id="toggle-solution-btn" class="mt-3 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700">Show Solution</button>
                            <div id="solution-code" class="hidden mt-4">
<pre><code class="language-csharp">
using System;
using System.Globalization;

public static class DecimalExtensions
{
    // The extension method
    public static string ToCurrencyString(this decimal value, string currencySymbol)
    {
        // Using CultureInfo.InvariantCulture to ensure consistent formatting regardless of system locale
        // The "{0}" is a placeholder for the currencySymbol.
        // The "{1:N2}" formats the decimal value to 2 decimal places.
        return string.Format(CultureInfo.InvariantCulture, "{0}{1:N2}", currencySymbol, value);
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        decimal priceUSD = 199.99m;
        decimal priceEUR = 85.50m;
        decimal priceGBP = 120m;

        Console.WriteLine(priceUSD.ToCurrencyString("$"));   // Expected output: $199.99
        Console.WriteLine(priceEUR.ToCurrencyString("€"));   // Expected output: €85.50
        Console.WriteLine(priceGBP.ToCurrencyString("£"));   // Expected output: £120.00
    }
}
</code></pre>
                            </div>
                        </div>
                    </section>
            </div>
        </div>
    </main>

    <footer class="mt-16 py-8 bg-white border-t">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex justify-center mb-4">
                <a href="roadmap.html" class="btn btn-primary">Return to Homepage</a>
            </div>
            <p class="text-gray-500">&copy; 2025 OOP Foundations. All Rights Reserved.</p>
            <p class="text-sm mt-1 text-gray-500">A self-contained learning module.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Copy-to-Clipboard ---
            document.querySelectorAll('.copy-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const code = btn.parentElement.querySelector('pre code').innerText;
                    navigator.clipboard.writeText(code).then(() => {
                        btn.textContent = 'Copied!';
                        setTimeout(() => btn.textContent = 'Copy', 2000);
                    });
                });
            });

            // --- Active TOC Link ---
            const sections = document.querySelectorAll('main section');
            const tocLinks = document.querySelectorAll('.toc-link');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        tocLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${entry.target.id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-40% 0px -60% 0px' });
            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>
