<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 40: UML Class & Sequence Diagrams - LLD Bootcamp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Sky -->
    <!-- Application Structure Plan: A two-column layout is chosen for optimal learning experience. The left, main column presents the lesson content in a linear, scrollable format, guiding the user from theory to practical application. The right column features a sticky Table of Contents (TOC) for quick, non-linear navigation. This structure balances guided learning with user-controlled exploration. Interactions include smooth scrolling from the TOC, an interactive quiz with instant feedback, and revealable solutions for challenges, promoting active learning and self-assessment. -->
    <!-- Visualization & Content Choices: Report Info: UML Diagrams -> Goal: Organize & Visualize -> Method: HTML/CSS (Tailwind) diagrams -> Interaction: Static representation with detailed textual explanation -> Justification: Custom HTML diagrams provide a clean, integrated look without external dependencies and adhere to the NO SVG constraint. They are built to be responsive and clear. Report Info: Coding examples -> Goal: Inform & Demonstrate -> Method: Styled code blocks with syntax highlighting -> Interaction: Copy-to-clipboard button -> Justification: Eases the transfer of knowledge to the user's own environment. Report Info: Knowledge Check -> Goal: Assess understanding -> Method: Interactive radio-button quiz -> Interaction: Instant feedback on selection -> Justification: Reinforces learning through immediate validation. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .font-lexend {
            font-family: 'Lexend', sans-serif;
        }
        .code-block {
            position: relative;
        }
        .copy-button {
            position: absolute;
            top: 0.8rem;
            right: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 600;
            color: #475569;
            background-color: #f1f5f9;
            cursor: pointer;
            transition: all 0.2s;
        }
        .copy-button:hover {
            background-color: #e2e8f0;
            color: #1e293b;
        }
        .copied-feedback {
            position: absolute;
            top: 0.8rem;
            right: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 600;
            color: #15803d;
            background-color: #dcfce7;
        }
        .uml-class {
            border: 2px solid #64748b;
            border-radius: 0.375rem;
            background-color: #f1f5f9;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
        .uml-class-title {
            font-weight: 700;
            font-family: 'Lexend', sans-serif;
            padding: 0.5rem;
            border-bottom: 2px solid #64748b;
            background-color: #e2e8f0;
        }
        .uml-class-section {
            padding: 0.5rem;
            font-family: monospace;
            font-size: 0.875rem;
        }
        .uml-class-section:not(:last-child) {
            border-bottom: 1px solid #cbd5e1;
        }
        .toc-link.active {
            color: #0284c7;
            border-left-color: #0284c7;
            font-weight: 600;
        }
        .seq-diagram-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.5rem;
            min-width: 600px;
        }
        .seq-participant {
            text-align: center;
            font-weight: bold;
            padding: 0.5rem;
            background-color: #e2e8f0;
            border: 1px solid #cbd5e1;
            border-radius: 0.25rem;
        }
        .seq-lifeline-col {
            position: relative;
            display: flex;
            justify-content: center;
        }
        .seq-lifeline {
            width: 2px;
            background-image: linear-gradient(to bottom, #94a3b8 50%, transparent 50%);
            background-size: 1px 10px;
            height: 100%;
        }
        .seq-message {
            grid-column: span 1 / span 1;
            position: relative;
            align-self: center;
            padding: 0.5rem;
            margin: 0.75rem 0;
        }
        .seq-message-arrow {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #334155;
            transform: translateY(-1px);
        }
        .seq-message-arrow.dashed {
            background-image: linear-gradient(to right, #334155 50%, transparent 50%);
            background-size: 10px 2px;
            background-color: transparent;
        }
        .seq-message-arrow::after {
            content: '▶';
            position: absolute;
            right: -2px;
            top: 50%;
            transform: translateY(-50%);
            color: #334155;
        }
        .seq-message-arrow.return::after {
            content: '◀';
            left: -2px;
            right: auto;
        }
        .seq-message-text {
            text-align: center;
            font-size: 0.75rem;
            font-family: monospace;
            background-color: #f8fafc;
            position: relative;
            z-index: 1;
            padding: 0 0.25rem;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="app">
        <div class="bg-slate-100/80 border-b border-slate-200">
            <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 relative">
                <header class="text-center">
                    <h1 class="text-4xl sm:text-5xl font-extrabold text-slate-800 mt-1 tracking-tight font-lexend">Low-Level Design Bootcamp</h1>
                    <p class="mt-3 text-slate-600 max-w-xl mx-auto">Your 60-Day Interactive Roadmap to Mastering Backend Engineering.</p>
                </header>
                 <a href="roadmap.html" class="absolute top-1/2 -translate-y-1/2 right-4 sm:right-6 lg:right-8 bg-slate-200 text-slate-700 text-sm font-semibold py-2 px-4 rounded-lg hover:bg-slate-300 transition-colors shadow-sm">
                    Return to Homepage
                </a>
            </div>
        </div>

        <main class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
            <div class="flex justify-center mb-6">
                <div class="bg-white border border-slate-200 rounded-xl p-4 text-center shadow-sm">
                    <h2 class="text-3xl font-bold text-sky-700 font-lexend">Day 40: UML Class & Sequence Diagrams</h2>
                    <p class="text-slate-500 mt-1">Visualizing System Structure and Behavior</p>
                </div>
            </div>

            <div class="lg:grid lg:grid-cols-12 lg:gap-8">
                <div class="lg:col-span-9">
                    <div class="space-y-12">
                        
                        <section id="introduction" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">Deep Dive into UML</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">
                                The Unified Modeling Language (UML) is the de facto standard for visualizing, specifying, constructing, and documenting the artifacts of a software-intensive system. It's not a programming language, but rather a graphical language that gives us a standardized way to create a blueprint of our system.
                            </p>
                            <div class="mt-4 p-4 bg-sky-50 border-l-4 border-sky-500 rounded-r-lg">
                                <p class="text-sky-800"><strong class="font-semibold">Analogy: Architectural Blueprints.</strong> An architect doesn't start building a skyscraper by mixing cement. They create detailed blueprints: floor plans, electrical diagrams, plumbing layouts. Each diagram shows a different aspect of the final structure. Similarly, UML provides various diagrams to model different perspectives of a software system, ensuring everyone from developers to project managers shares a common understanding before a single line of code is written.  </p>
                            </div>
                            
                            <h4 class="mt-6 text-xl font-semibold text-slate-700 font-lexend">Types of UML Diagrams: A Tale of Two Perspectives</h4>
                            <p class="mt-2 text-slate-600 leading-relaxed">UML diagrams are broadly categorized into two types, which provide different views of the system:</p>
                            <div class="mt-4 overflow-x-auto">
                                <table class="w-full text-left border-collapse">
                                    <thead>
                                        <tr>
                                            <th class="border-b-2 p-3 font-lexend text-slate-700 bg-slate-100">Perspective</th>
                                            <th class="border-b-2 p-3 font-lexend text-slate-700 bg-slate-100">Purpose</th>
                                            <th class="border-b-2 p-3 font-lexend text-slate-700 bg-slate-100">Key Diagrams</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="border-b p-3 font-semibold">Structural Diagrams</td>
                                            <td class="border-b p-3 text-slate-600">Show the static structure of the system. They depict the components that make up the system, irrespective of time. It's the "what" of the system.</td>
                                            <td class="border-b p-3 text-slate-600"><strong>Class Diagram</strong>, Component Diagram, Object Diagram, Deployment Diagram.</td>
                                        </tr>
                                        <tr>
                                            <td class="border-b p-3 font-semibold">Behavioral Diagrams</td>
                                            <td class="border-b p-3 text-slate-600">Show the dynamic behavior of the system. They visualize how the system's components interact with each other over time. It's the "how" of the system.</td>
                                            <td class="border-b p-3 text-slate-600"><strong>Sequence Diagram</strong>, Activity Diagram, Use Case Diagram, State Machine Diagram.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p class="mt-4 text-slate-600 leading-relaxed">Today, we master the cornerstone diagrams from each category: the <strong>Class Diagram</strong> (structural) and the <strong>Sequence Diagram</strong> (behavioral).</p>
                        </section>

                        <section id="class-diagrams" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">UML Class Diagrams: The System's Anatomy</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">
                                A Class Diagram is the most common diagram in object-oriented design. It provides a static, structural view of the system by showing its classes, their attributes and methods, and the relationships connecting them. 
                            </p>
                            
                            <h4 class="mt-6 text-xl font-semibold text-slate-700 font-lexend">Detailed Class Structure</h4>
                            <p class="mt-2 text-slate-600">A class is represented by a rectangle with up to three compartments:</p>
                            
                            <div class="mt-4 p-4 bg-slate-100 rounded-lg">
                                <ul class="space-y-3">
                                    <li><strong>1. Name Compartment (Mandatory):</strong> The class name, often in bold. Can include stereotypes like <code class="bg-slate-200 text-sm px-1 rounded">&lt;&lt;interface&gt;&gt;</code> or show if a class is abstract by using an italic font.</li>
                                    <li>
                                        <strong>2. Attribute Compartment (Optional):</strong> Lists the properties or fields of the class. The full syntax is:
                                        <br>
                                        <code class="block bg-slate-800 text-white p-2 rounded mt-1 text-sm">[visibility] name: type [multiplicity] = defaultValue {properties}</code>
                                        <ul class="list-disc list-inside text-sm mt-2 text-slate-700">
                                            <li><code class="bg-slate-200 px-1 rounded">+</code> (public), <code class="bg-slate-200 px-1 rounded">-</code> (private), <code class="bg-slate-200 px-1 rounded">#</code> (protected).</li>
                                            <li>Example: <code class="bg-slate-200 px-1 rounded">- accountBalance: double = 0.0</code></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <strong>3. Operation Compartment (Optional):</strong> Lists the methods or behaviors of the class. The full syntax is:
                                        <br>
                                        <code class="block bg-slate-800 text-white p-2 rounded mt-1 text-sm">[visibility] name(parameterName: parameterType, ...): returnType {properties}</code>
                                        <ul class="list-disc list-inside text-sm mt-2 text-slate-700">
                                            <li>Parameters are listed inside parentheses.</li>
                                            <li>Example: <code class="bg-slate-200 px-1 rounded">+ calculateInterest(rate: double): double</code></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            
                            <h4 class="mt-8 text-xl font-semibold text-slate-700 font-lexend">Relationships In-Depth: The Connections That Matter</h4>
                            <p class="mt-2 text-slate-600 leading-relaxed">The true power of class diagrams lies in visualizing how classes relate to one another. This is defined by lines and arrowheads connecting the class boxes.</p>
                            
                             <div class="mt-6 p-4 bg-sky-50 border-l-4 border-sky-500 rounded-r-lg">
                                <h5 class="font-bold text-sky-800">Crucial Concept: Multiplicity (Cardinality)</h5>
                                <p class="mt-1 text-sky-800">Multiplicity indicates how many instances of one class can be associated with one instance of another class. It's written near the end of the association line.</p>
                                <ul class="list-disc list-inside mt-2 text-sky-700 text-sm">
                                    <li><code class="font-mono bg-sky-100 px-1 rounded">1</code> : Exactly one.</li>
                                    <li><code class="font-mono bg-sky-100 px-1 rounded">0..1</code> : Zero or one.</li>
                                    <li><code class="font-mono bg-sky-100 px-1 rounded">*</code> : Zero or more.</li>
                                    <li><code class="font-mono bg-sky-100 px-1 rounded">1..*</code> : One or more.</li>
                                    <li><code class="font-mono bg-sky-100 px-1 rounded">m..n</code> : A specific range (e.g., 2..4).</li>
                                </ul>
                            </div>

                            <div class="mt-6 space-y-8">
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold font-lexend">Inheritance (Generalization) - "is-a"</h5>
                                    <p class="text-sm text-slate-500 mt-1">Represents a relationship between a general class (superclass/parent) and a more specific class (subclass/child). The child inherits attributes and operations from the parent.</p>
                                    <p class="mt-2 text-center font-mono text-sm p-2 bg-white border rounded">Car --|> Vehicle</p>
                                    <p class="text-xs text-center mt-1">A Car 'is-a' Vehicle. Arrow points to the parent.</p>
                                    <div class="mt-3 code-block">
                                        <button class="copy-button">Copy</button>
                                        <pre><code class="language-csharp block bg-slate-900 text-white p-2 rounded-lg text-xs overflow-x-auto">public class Vehicle { public int Speed { get; set; } }
public class Car : Vehicle { public int NumberOfDoors { get; set; } }</code></pre>
                                    </div>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold font-lexend">Association - "uses-a" or "has-a"</h5>
                                    <p class="text-sm text-slate-500 mt-1">A structural link between classes. Objects of one class are connected to objects of another. This is the most general relationship.</p>
                                    <p class="mt-2 text-center font-mono text-sm p-2 bg-white border rounded">Professor 1 -- 1..* Student</p>
                                    <p class="text-xs text-center mt-1">One Professor teaches one or more Students.</p>
                                    <div class="mt-3 code-block">
                                        <button class="copy-button">Copy</button>
                                        <pre><code class="language-csharp block bg-slate-900 text-white p-2 rounded-lg text-xs overflow-x-auto">public class Professor { public List&lt;Student&gt; Students { get; set; } }
public class Student { /* ... */ }</code></pre>
                                    </div>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold font-lexend">Aggregation - "part-of" (Shared)</h5>
                                    <p class="text-sm text-slate-500 mt-1">A special type of association that represents a "whole-part" relationship. The part can exist independently of the whole.</p>
                                    <p class="mt-2 text-center font-mono text-sm p-2 bg-white border rounded">Department 1 o-- 1..* Professor</p>
                                    <p class="text-xs text-center mt-1">A Department has Professors, but if the department closes, the professors can still exist. Hollow diamond is on the "whole" side.</p>
                                    <div class="mt-3 code-block">
                                        <button class="copy-button">Copy</button>
                                        <pre><code class="language-csharp block bg-slate-900 text-white p-2 rounded-lg text-xs overflow-x-auto">public class Department { 
  private List&lt;Professor&gt; _professors;
  public Department(List&lt;Professor&gt; professors) { _professors = professors; } // Professors passed in
}</code></pre>
                                    </div>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold font-lexend">Composition - "part-of" (Owned)</h5>
                                    <p class="text-sm text-slate-500 mt-1">A stronger form of aggregation. The part is owned by the whole and cannot exist without it. Its lifecycle is tied to the whole.</p>
                                    <p class="mt-2 text-center font-mono text-sm p-2 bg-white border rounded">House 1 &lt;*&gt;-- 1..* Room</p>
                                    <p class="text-xs text-center mt-1">A House is composed of Rooms. If you destroy the house, the rooms are also destroyed. Filled diamond is on the "whole" side.</p>
                                     <div class="mt-3 code-block">
                                        <button class="copy-button">Copy</button>
                                        <pre><code class="language-csharp block bg-slate-900 text-white p-2 rounded-lg text-xs overflow-x-auto">public class House { 
  private List&lt;Room&gt; _rooms = new List&lt;Room&gt;();
  public House() { _rooms.Add(new Room()); } // House creates and owns the Rooms
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </section>
                        
                        <section id="library-system-uml" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">UML Task: Library Management System - A Deeper Look</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">Let's refine our Library Management System Class Diagram, incorporating detailed relationships and multiplicities.</p>
                            <div class="mt-6 p-4 bg-amber-50 border-l-4 border-amber-500 rounded-r-lg">
                                <p class="text-amber-800"><strong class="font-semibold">Refined Design Rationale:</strong>
                                <ul class="list-disc list-inside mt-2 text-amber-700">
                                    <li>A single `Library` object manages the whole system (Singleton).</li>
                                    <li>The `Library` owns its collection of `Book`s. If the library is gone, the books it owns are gone. This is a strong lifecycle tie, making it **Composition**.</li>
                                    <li>The `Library` also has `Member`s, but members can exist outside the context of the library system (e.g., they are people). This is a weaker "has-a" relationship, making it **Aggregation**.</li>
                                    <li>A `Member` can have multiple `Loan`s, and each `Loan` is for a single `Member`. This is a plain **Association**.</li>
                                    <li>Each `Loan` must be tied to exactly one `Book`. This is another **Association**.</li>
                                </ul>
                                </p>
                            </div>
                            
                            <div class="mt-6 space-y-4 overflow-x-auto p-2">
                                <p class="text-center text-slate-600 font-semibold mb-4"></p>
                                <div class="flex flex-col md:flex-row items-start justify-center gap-8 text-sm">
                                    <div class="uml-class w-64 flex-shrink-0">
                                        <div class="uml-class-title text-center">&lt;&lt;Singleton&gt;&gt;<br>Library</div>
                                        <div class="uml-class-section"> - name: string </div>
                                        <div class="uml-class-section"> + issueLoan(b: Book, m: Member): Loan<br> + returnLoan(l: Loan): void </div>
                                    </div>
                                    <div class="uml-class w-64 flex-shrink-0">
                                        <div class="uml-class-title text-center">Member</div>
                                        <div class="uml-class-section"> - memberId: string<br> - name: string </div>
                                    </div>
                                     <div class="uml-class w-64 flex-shrink-0">
                                        <div class="uml-class-title text-center">Book</div>
                                        <div class="uml-class-section"> - bookId: string<br> - title: string<br> - isAvailable: boolean </div>
                                    </div>
                                    <div class="uml-class w-64 flex-shrink-0">
                                        <div class="uml-class-title text-center">Loan</div>
                                        <div class="uml-class-section"> - loanId: string<br> - issueDate: Date </div>
                                    </div>
                                </div>
                                <div class="mt-6 text-center text-slate-600 text-sm font-mono space-y-2">
                                    <p><span class="font-bold">Composition:</span> Library 1 &lt;*&gt;-- 0..* Book (A library owns its books)</p>
                                    <p><span class="font-bold">Aggregation:</span> Library 1 o-- 0..* Member (A library has members)</p>
                                    <p><span class="font-bold">Association:</span> Member 1 -- 0..* Loan (A member can have zero or more loans)</p>
                                    <p><span class="font-bold">Association:</span> Book 1 -- 0..1 Loan (A book can be on zero or one loan at a time)</p>
                                </div>
                            </div>
                        </section>

                        <section id="sequence-diagrams" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">Sequence Diagrams: Choreographing Object Interactions</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">
                                Sequence Diagrams capture the behavior of a system by visualizing how a set of objects interact in a time-ordered sequence. They are perfect for modeling the logic of a specific use case or method. 
                            </p>

                            <h4 class="mt-6 text-xl font-semibold text-slate-700 font-lexend">Detailed Components</h4>
                             <div class="mt-4 grid md:grid-cols-2 gap-6">
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold">Lifeline & Participant</h5>
                                    <p class="text-sm text-slate-500 mt-1">A box at the top (`:ClassName`) represents a participant (an instance of a class). The vertical dashed line below it is its lifeline, representing its existence over time.</p>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold">Activation Box (Execution)</h5>
                                    <p class="text-sm text-slate-500 mt-1">A thin rectangle on a lifeline indicates the period when the participant is active, executing a method. The length of the box signifies the duration of the execution.</p>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold">Messages (Calls)</h5>
                                    <p class="text-sm text-slate-500 mt-1">
                                        <strong>Synchronous Call (solid arrow <code class="font-mono">&rarr;</code>):</strong> The sender waits for the receiver to finish and return a response. This is like a standard function call.
                                        <br><strong>Asynchronous Call (open arrow <code class="font-mono">&rightarrow;</code>):</strong> The sender does not wait for a response and continues its own processing. This is like firing an event.
                                    </p>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg border">
                                    <h5 class="font-bold">Return Message</h5>
                                    <p class="text-sm text-slate-500 mt-1">A dashed arrow (<code class="font-mono">&larr;--</code>) shows the return from a synchronous call. It's often optional if the return is obvious.</p>
                                </div>
                            </div>
                            
                            <h4 class="mt-8 text-xl font-semibold text-slate-700 font-lexend">Advanced Control Flow: Interaction Fragments</h4>
                            <p class="mt-2 text-slate-600">Real-world logic involves conditions, loops, and options. Fragments are boxes drawn around parts of a sequence diagram to model this complexity.</p>
                            <div class="mt-4 space-y-4">
                                <div class="p-3 bg-slate-50 rounded-lg border">
                                    <code class="font-bold font-mono bg-slate-200 px-2 py-1 rounded">alt</code> (Alternative): Models `if-then-else` logic. The fragment is split into sections by a dashed line, each with a guard condition (e.g., `[balance > amount]`). Only one section will execute.
                                </div>
                                <div class="p-3 bg-slate-50 rounded-lg border">
                                    <code class="font-bold font-mono bg-slate-200 px-2 py-1 rounded">opt</code> (Optional): Models a sequence that only occurs if a certain condition is met. Like an `if` statement without an `else`.
                                </div>
                                <div class="p-3 bg-slate-50 rounded-lg border">
                                    <code class="font-bold font-mono bg-slate-200 px-2 py-1 rounded">loop</code> (Loop): Models a repetitive sequence. A guard condition can specify the loop condition (e.g., `[for each item]`).
                                </div>
                            </div>
                        </section>
                        
                        <section id="ride-hailing-sequence" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">Case Study: Ride-Hailing Sequence Diagram - Robust Flow</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">Let's model the "Request Ride" use case using a robust, grid-based diagram that won't break on different screen sizes.</p>
                            
                            <div class="mt-6 border rounded-lg p-4 overflow-x-auto bg-slate-50">
                                <div class="seq-diagram-grid">
                                    <!-- Participants -->
                                    <div class="seq-participant">:RiderApp</div>
                                    <div class="seq-participant">:RideService</div>
                                    <div class="seq-participant">:DriverService</div>
                                    <div class="seq-participant">:NotificationSvc</div>
                                    <div class="seq-participant">:DriverApp</div>
                                    
                                    <!-- Lifelines -->
                                    <div class="seq-lifeline-col" style="grid-row: 2 / span 10;"><div class="seq-lifeline"></div></div>
                                    <div class="seq-lifeline-col" style="grid-row: 2 / span 10;"><div class="seq-lifeline"></div></div>
                                    <div class="seq-lifeline-col" style="grid-row: 2 / span 10;"><div class="seq-lifeline"></div></div>
                                    <div class="seq-lifeline-col" style="grid-row: 2 / span 10;"><div class="seq-lifeline"></div></div>
                                    <div class="seq-lifeline-col" style="grid-row: 2 / span 10;"><div class="seq-lifeline"></div></div>

                                    <!-- Messages -->
                                    <div class="seq-message" style="grid-column: 1 / 3;">
                                        <div class="seq-message-text">1. requestRide(...)</div>
                                        <div class="seq-message-arrow"></div>
                                    </div>
                                    <div></div><div></div><div></div>

                                    <div class="seq-message" style="grid-column: 2 / 4;">
                                        <div class="seq-message-text">2. findDrivers(...)</div>
                                        <div class="seq-message-arrow"></div>
                                    </div>
                                    <div></div><div></div>
                                    
                                    <div class="seq-message" style="grid-column: 2 / 4;">
                                        <div class="seq-message-text">3. [driverList]</div>
                                        <div class="seq-message-arrow dashed return"></div>
                                    </div>
                                    <div></div><div></div>
                                    
                                    <div class="seq-message" style="grid-column: 2 / 5;">
                                        <div class="seq-message-text">4. notifyDrivers(...) (async)</div>
                                        <div class="seq-message-arrow"></div>
                                    </div>
                                    <div></div>
                                    
                                    <div class="seq-message" style="grid-column: 4 / 6;">
                                        <div class="seq-message-text">5. rideRequest(...)</div>
                                        <div class="seq-message-arrow"></div>
                                    </div>

                                    <div class="seq-message" style="grid-column: 2 / 6;">
                                        <div class="seq-message-text">6. acceptRide(...)</div>
                                        <div class="seq-message-arrow return"></div>
                                    </div>

                                    <div class="seq-message" style="grid-column: 1 / 3;">
                                        <div class="seq-message-text">7. rideConfirmed(...)</div>
                                        <div class="seq-message-arrow dashed return"></div>
                                    </div>
                                    <div></div><div></div><div></div>
                                </div>
                            </div>
                            <div class="mt-6 p-4 bg-slate-100 rounded-lg">
                                <h5 class="font-bold font-lexend">Step-by-Step Breakdown:</h5>
                                <ol class="list-decimal list-inside mt-2 text-slate-700 space-y-2">
                                    <li><strong>requestRide:</strong> The `RiderApp` sends a synchronous message to the `RideService`. The RiderApp now waits for a final response.</li>
                                    <li><strong>findDrivers:</strong> The `RideService` makes a synchronous call to the `DriverService` to get a list of available drivers.</li>
                                    <li><strong>Return [driverList]:</strong> `DriverService` completes its search and returns a list of drivers back to the `RideService`.</li>
                                    <li><strong>notifyDrivers:</strong> `RideService` sends an asynchronous message to the `NotificationService`. It "fires and forgets," not waiting for this step to complete.</li>
                                    <li><strong>rideRequest:</strong> The `NotificationService` sends individual requests to each `DriverApp`.</li>
                                    <li><strong>acceptRide:</strong> A `Driver` accepts. Their `DriverApp` sends a message back to the `RideService`.</li>
                                    <li><strong>rideConfirmed:</strong> The `RideService`, having received an acceptance, sends a final confirmation back to the `RiderApp`, completing the initial synchronous call from step 1.</li>
                                </ol>
                            </div>
                        </section>
                        
                        <section id="coding-practice" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">Coding Practice: Implementing the Library System</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">
                                Let's translate our detailed Library System class diagram into C# code. Pay close attention to how relationships like association and composition are implemented.
                            </p>
                            
                            <div class="mt-6 code-block">
                                <h5 class="font-semibold mb-2">Book.cs</h5>
                                <button class="copy-button">Copy</button>
                                <pre><code class="language-csharp block bg-slate-900 text-white p-4 rounded-lg text-sm overflow-x-auto">
// This class represents the Book entity from our diagram.
// It is the "part" in the Composition relationship with the Library.
public class Book
{
    public string BookId { get; private set; }
    public string Title { get; private set; }
    public bool IsAvailable { get; private set; } = true;

    public Book(string bookId, string title)
    {
        BookId = bookId;
        Title = title;
    }

    public void MarkAsUnavailable() => IsAvailable = false;
    public void MarkAsAvailable() => IsAvailable = true;
}
                                </code></pre>
                            </div>

                            <div class="mt-6 code-block">
                                <h5 class="font-semibold mb-2">Library.cs</h5>
                                <button class="copy-button">Copy</button>
                                <pre><code class="language-csharp block bg-slate-900 text-white p-4 rounded-lg text-sm overflow-x-auto">
using System.Collections.Generic;

// This class is the "whole" in our system.
public class Library
{
    public string Name { get; private set; }

    // COMPOSITION: The Library owns its list of books.
    // The List is private and initialized inside the Library.
    // This implements the 1 to 0..* composition relationship.
    private readonly List&lt;Book&gt; _books = new List&lt;Book&gt;();
    public IReadOnlyCollection&lt;Book&gt; Books => _books.AsReadOnly();

    // AGGREGATION: The Library has a list of members, but doesn't control their lifecycle.
    // This implements the 1 to 0..* aggregation relationship.
    private readonly List&lt;Member&gt; _members = new List&lt;Member&gt;();
    public IReadOnlyCollection&lt;Member&gt; Members => _members.AsReadOnly();

    public Library(string name)
    {
        Name = name;
    }

    // The Library manages the creation and addition of its own books (Composition)
    public void AddNewBook(string bookId, string title)
    {
        _books.Add(new Book(bookId, title));
    }
    
    // The Library adds existing Member objects (Aggregation)
    public void RegisterMember(Member member)
    {
        _members.Add(member);
    }
    
    // Other methods like IssueLoan, ReturnLoan would go here...
}
                                </code></pre>
                            </div>
                        </section>

                        <section id="knowledge-check" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">Knowledge Check Quiz</h3>
                            <p class="mt-4 text-slate-600">Test your deeper understanding of today's concepts.</p>
                            <div id="quiz-container" class="mt-6 space-y-6"></div>
                        </section>

                        <section id="self-assessment" class="p-6 bg-white rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="text-2xl font-bold text-slate-800 font-lexend">Self-Assessment Challenge: ATM System</h3>
                            <p class="mt-4 text-slate-600 leading-relaxed">
                                Design the UML diagrams for a simple ATM system based on these requirements.
                            </p>
                            <div class="mt-4 p-4 bg-slate-100 rounded-lg">
                                <p class="font-semibold">Requirements:</p>
                                <ul class="list-disc list-inside mt-2 text-slate-600">
                                    <li>An `ATM` machine has a `CardReader`, a `Keypad`, a `Screen`, and a `CashDispenser`.</li>
                                    <li>A `Customer` can perform `Transaction`s.</li>
                                    <li>Transactions can be `Withdrawal`, `Deposit`, or `BalanceInquiry`.</li>
                                    <li>The `ATM` communicates with a remote `BankService` to validate customers and process transactions against a customer's `Account`.</li>
                                </ul>
                            </div>
                            <p class="mt-4 text-slate-600 leading-relaxed">
                                <strong>Task 1:</strong> Draw a detailed Class Diagram. Pay close attention to using Composition for the ATM's parts and Inheritance for the Transaction types.
                                <br>
                                <strong>Task 2:</strong> Draw a Sequence Diagram for the "Withdraw Cash" use case, including an `alt` fragment to handle the case where funds are insufficient.
                            </p>
                            <button id="show-solution-btn" class="mt-6 bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-sky-700 transition-colors">Show Solution</button>
                            <div id="solution-container" class="hidden mt-6">
                                <h4 class="text-xl font-bold text-slate-700 font-lexend">Challenge Solution Breakdown</h4>
                                <p class="mt-4 text-slate-600"><strong>Class Diagram Rationale:</strong></p>
                                <ul class="list-disc list-inside mt-2 text-slate-600 space-y-2">
                                    <li><strong>Composition:</strong> `ATM` is the "whole". `CardReader`, `Keypad`, `Screen`, `CashDispenser` are "parts". Their lifecycle depends on the ATM. Notation: `ATM 1 <>-- 1 CardReader`.</li>
                                    <li><strong>Inheritance:</strong> `Transaction` is the abstract base class. `Withdrawal`, `Deposit`, and `BalanceInquiry` are concrete subclasses that inherit from it. Notation: `Withdrawal --|> Transaction`.</li>
                                    <li><strong>Association:</strong> `Customer` has a relationship with `Account`. `ATM` uses the `BankService`. `BankService` manages `Account`s.</li>
                                </ul>
                                <p class="mt-4 text-slate-600"><strong>Sequence Diagram: "Withdraw Cash" Flow</strong></p>
                                <ol class="list-decimal list-inside mt-2 text-slate-600 space-y-1">
                                    <li>`Customer` inserts card into `ATM`.</li>
                                    <li>`ATM` asks `BankService` to `authenticate(cardInfo, pin)`.</li>
                                    <li>`BankService` returns `true`.</li>
                                    <li>`Customer` requests withdrawal amount from `ATM`.</li>
                                    <li>`ATM` sends `withdraw(account, amount)` request to `BankService`.</li>
                                    <li><strong>`alt` Fragment begins:</strong>
                                        <ul>
                                            <li><strong>Guard: `[balance >= amount]`</strong>
                                                <ol class="list-alpha list-inside ml-4">
                                                    <li>`BankService` debits the `Account`.</li>
                                                    <li>`BankService` returns `success` to `ATM`.</li>
                                                    <li>`ATM` tells `CashDispenser` to `dispense(amount)`.</li>
                                                    <li>`ATM` updates `Screen` to show "Please take your cash".</li>
                                                </ol>
                                            </li>
                                            <li><strong>`else` Guard:</strong>
                                                <ol class="list-alpha list-inside ml-4">
                                                    <li>`BankService` returns `failure` to `ATM`.</li>
                                                    <li>`ATM` updates `Screen` to show "Insufficient funds".</li>
                                                </ol>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>`ATM` returns card.</li>
                                </ol>
                            </div>
                        </section>
                    </div>
                </div>

                <aside class="hidden lg:block lg:col-span-3">
                    <nav id="toc" class="sticky top-24">
                        <h4 class="font-lexend font-semibold text-slate-700">On this page</h4>
                        <ul class="mt-4 space-y-2 text-sm text-slate-500 border-l border-slate-200">
                            <li><a href="#introduction" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Deep Dive into UML</a></li>
                            <li><a href="#class-diagrams" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Class Diagrams In-Depth</a></li>
                            <li><a href="#library-system-uml" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Task: Library System</a></li>
                            <li><a href="#sequence-diagrams" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Sequence Diagrams In-Depth</a></li>
                            <li><a href="#ride-hailing-sequence" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Case Study: Ride-Hailing</a></li>
                            <li><a href="#coding-practice" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Coding Practice</a></li>
                            <li><a href="#knowledge-check" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Knowledge Check</a></li>
                            <li><a href="#self-assessment" class="toc-link block pl-4 py-1 border-l-2 border-transparent hover:text-sky-600 hover:border-sky-600">Self-Assessment</a></li>
                        </ul>
                    </nav>
                </aside>
            </div>
        </main>
        
        <footer class="text-center mt-16 py-8 border-t border-slate-200">
            <p class="text-slate-700 font-semibold">Low-Level Design Bootcamp</p>
            <p class="text-sm text-slate-500 mt-2">A personalized learning roadmap curated by Mr. Mahesh Singare.</p>
            <p class="text-xs text-slate-400 mt-4">&copy; 2025. All Rights Reserved.</p>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const quizData = [
        {
            question: "Which relationship is implemented by creating an instance of a class inside another class's constructor, tying their lifecycles together?",
            options: ["Association", "Aggregation", "Inheritance", "Composition"],
            answer: "Composition"
        },
        {
            question: "In a class diagram for an e-commerce site, what is the multiplicity from `Customer` to `Order`?",
            options: ["1..*", "0..*", "1", "0..1"],
            answer: "0..*",
            explanation: "A Customer can have zero or more Orders."
        },
        {
            question: "You need to model an 'if-else' condition in a sequence diagram. Which fragment type should you use?",
            options: ["loop", "opt", "alt", "ref"],
            answer: "alt"
        },
        {
            question: "What does an open arrowhead (`->`) on a message in a sequence diagram signify?",
            options: ["A synchronous call where the sender waits", "A return message", "A self-message to the same object", "An asynchronous call where the sender does not wait"],
            answer: "An asynchronous call where the sender does not wait"
        },
        {
            question: "What is the primary purpose of a Behavioral Diagram like a Sequence Diagram?",
            options: ["To show the physical deployment of software components", "To model the static structure and relationships of classes", "To visualize how objects interact with each other over time", "To define the database schema"],
            answer: "To visualize how objects interact with each other over time"
        }
    ];

    function buildQuiz() {
        const quizContainer = document.getElementById('quiz-container');
        quizData.forEach((data, index) => {
            const questionDiv = document.createElement('div');
            questionDiv.className = "p-4 border border-slate-200 rounded-lg";

            const questionText = document.createElement('p');
            questionText.className = "font-semibold";
            questionText.textContent = `${index + 1}. ${data.question}`;
            questionDiv.appendChild(questionText);

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'mt-3 space-y-2';
            optionsDiv.id = `q${index}-options`;

            data.options.forEach(option => {
                const label = document.createElement('label');
                label.className = "block p-3 rounded-md border border-slate-300 cursor-pointer hover:bg-slate-100 transition-colors";
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = `question${index}`;
                input.value = option;
                input.className = "mr-3 transform scale-110";

                label.appendChild(input);
                label.appendChild(document.createTextNode(option));
                optionsDiv.appendChild(label);
            });
            
            questionDiv.appendChild(optionsDiv);

            const feedbackP = document.createElement('p');
            feedbackP.id = `feedback${index}`;
            feedbackP.className = 'mt-3 text-sm font-semibold hidden';
            questionDiv.appendChild(feedbackP);

            quizContainer.appendChild(questionDiv);

            optionsDiv.addEventListener('change', (e) => {
                const selectedOption = e.target.value;
                const isCorrect = selectedOption === data.answer;
                const parentLabel = e.target.parentElement;
                
                Array.from(optionsDiv.children).forEach(childLabel => {
                    childLabel.classList.remove('bg-green-100', 'border-green-400', 'bg-red-100', 'border-red-400');
                    childLabel.style.pointerEvents = 'none'; // Disable other options
                });
                
                feedbackP.classList.remove('hidden');

                if (isCorrect) {
                    feedbackP.textContent = 'Correct! ' + (data.explanation || '');
                    feedbackP.className = 'mt-3 text-sm font-semibold text-green-700 p-2 bg-green-50 rounded-md';
                    parentLabel.classList.add('bg-green-100', 'border-green-400');
                } else {
                    feedbackP.textContent = `Incorrect. The correct answer is: ${data.answer}. ` + (data.explanation || '');
                    feedbackP.className = 'mt-3 text-sm font-semibold text-red-700 p-2 bg-red-50 rounded-md';
                    parentLabel.classList.add('bg-red-100', 'border-red-400');
                }
            });
        });
    }

    buildQuiz();
    
    document.querySelectorAll('.copy-button').forEach(button => {
        button.addEventListener('click', () => {
            const codeBlock = button.nextElementSibling.querySelector('code');
            const code = codeBlock.innerText;
            navigator.clipboard.writeText(code).then(() => {
                button.style.display = 'none';
                const feedback = document.createElement('div');
                feedback.className = 'copied-feedback';
                feedback.textContent = 'Copied!';
                button.parentElement.appendChild(feedback);

                setTimeout(() => {
                    feedback.remove();
                    button.style.display = 'block';
                }, 2000);
            });
        });
    });

    const showSolutionBtn = document.getElementById('show-solution-btn');
    const solutionContainer = document.getElementById('solution-container');
    showSolutionBtn.addEventListener('click', () => {
        solutionContainer.classList.toggle('hidden');
        showSolutionBtn.textContent = solutionContainer.classList.contains('hidden') ? 'Show Solution' : 'Hide Solution';
    });

    const tocLinks = document.querySelectorAll('.toc-link');
    const sections = document.querySelectorAll('section[id]');
    
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            const id = entry.target.getAttribute('id');
            const tocLink = document.querySelector(`.toc-link[href="#${id}"]`);
            if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
                tocLinks.forEach(link => link.classList.remove('active'));
                tocLink.classList.add('active');
            }
        });
    }, { rootMargin: '-30% 0px -40% 0px', threshold: 0.6 });

    sections.forEach(section => {
        observer.observe(section);
    });
});
</script>

</body>
</html>

